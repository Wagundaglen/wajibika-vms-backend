{% extends "admin/index.html" %}
{% load i18n %}

{% block content %}
<div class="dashboard">
    <h1 class="dashboard-title">Volunteer Recognition Dashboard</h1>

    <!-- Quick Stats -->
    <div class="module" style="display: flex; gap: 20px; margin-bottom: 30px;">
        <div class="stats-card module" style="flex:1; text-align:center;">
            <h3>Total Points</h3>
            <p style="font-size: 22px; font-weight: bold; color:#2c3e50;">
                {{ total_points }}
            </p>
        </div>
        <div class="stats-card module" style="flex:1; text-align:center;">
            <h3>Certificates Awarded</h3>
            <p style="font-size: 22px; font-weight: bold; color:#27ae60;">
                {{ total_certificates }}
            </p>
        </div>
        <div class="stats-card module" style="flex:1; text-align:center;">
            <h3>Badges Awarded</h3>
            <p style="font-size: 22px; font-weight: bold; color:#2980b9;">
                {{ total_badges }}
            </p>
        </div>
    </div>

    <!-- Top Volunteers Leaderboard -->
    <div class="module">
        <h2>üèÜ Top 5 Volunteers</h2>
        <table class="admin-table" style="width:100%;">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Volunteer</th>
                    <th style="text-align:center;">Points</th>
                </tr>
            </thead>
            <tbody>
                {% for v in top_volunteers %}
                    <tr>
                        <td style="text-align:center;">
                            {% if forloop.counter == 1 %} ü•á
                            {% elif forloop.counter == 2 %} ü•à
                            {% elif forloop.counter == 3 %} ü•â
                            {% else %} {{ forloop.counter }}
                            {% endif %}
                        </td>
                        <td>
                            {{ v.volunteer__first_name }} {{ v.volunteer__last_name }}
                            ({{ v.volunteer__username }})
                        </td>
                        <td style="text-align:center;">{{ v.total_points }}</td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="3" style="text-align:center;">No volunteer data yet.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- Keep the default admin index (apps & models list) -->
{{ block.super }}
{% endblock %}
