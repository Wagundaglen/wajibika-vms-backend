{% extends 'accounts/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'communication/css/communication.css' %}">
{% endblock %}

{% block sidebar %}
<!-- Communication Sidebar -->
<div class="sidebar-section">
    <h5>Communication</h5>
    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" 
               href="{% url 'volunteer_communication:dashboard' %}">
                <i class="fas fa-tachometer-alt"></i> Dashboard
                {% if unread_count %}
                <span class="badge badge-danger">{{ unread_count }}</span>
                {% endif %}
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if 'notification' in request.resolver_match.url_name %}active{% endif %}" 
               href="{% url 'volunteer_communication:notifications' %}">
                <i class="fas fa-bell"></i> Notifications
                {% if unread_notifications %}
                <span class="badge badge-danger">{{ unread_notifications }}</span>
                {% endif %}
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if 'announcement' in request.resolver_match.url_name %}active{% endif %}" 
               href="{% url 'volunteer_communication:announcements' %}">
                <i class="fas fa-bullhorn"></i> Announcements
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if 'message' in request.resolver_match.url_name %}active{% endif %}" 
               href="{% url 'volunteer_communication:messages' %}">
                <i class="fas fa-envelope"></i> Messages
                {% if unread_messages %}
                <span class="badge badge-danger">{{ unread_messages }}</span>
                {% endif %}
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if 'event' in request.resolver_match.url_name %}active{% endif %}" 
               href="{% url 'volunteer_communication:events' %}">
                <i class="fas fa-calendar-alt"></i> Events
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {% if request.resolver_match.url_name == 'preferences' %}active{% endif %}" 
               href="{% url 'volunteer_communication:preferences' %}">
                <i class="fas fa-cog"></i> Preferences
            </a>
        </li>
    </ul>
</div>

{% if user_role == 'Admin' or user_role == 'Coordinator' %}
<div class="sidebar-section mt-4">
    <h5>Management</h5>
    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link" href="{% url 'volunteer_communication:announcement_create' %}">
                <i class="fas fa-plus-circle"></i> New Announcement
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="{% url 'volunteer_communication:event_create' %}">
                <i class="fas fa-plus-circle"></i> New Event
            </a>
        </li>
    </ul>
</div>
{% endif %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'communication/js/communication.js' %}"></script>
{% endblock %}