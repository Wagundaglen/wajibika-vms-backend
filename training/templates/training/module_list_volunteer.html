{% extends "base.html" %}
{% block content %}
<h2>My Training Modules</h2>

<table border="1" cellpadding="8">
    <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Type</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    {% for progress in progress_list %}
    <tr>
        <td>{{ progress.module.title }}</td>
        <td>{{ progress.module.description|truncatechars:50 }}</td>
        <td>{{ progress.module.get_content_type_display }}</td>
        <td>{{ progress.get_status_display }}</td>
        <td>
            {% if progress.module.content_type == "text" %}
                <a href="{% url 'training:module_detail' progress.module.id %}">View</a>
            {% else %}
                <a href="{{ progress.module.content }}" target="_blank">Open</a>
            {% endif %}
            {% if progress.status != "completed" %}
                | <a href="{% url 'training:mark_completed' progress.module.id %}">Mark Completed</a>
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="5">No training assigned.</td></tr>
    {% endfor %}
</table>
{% endblock %}
